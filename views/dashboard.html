<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afet YÃ¶netimi KDS - Dashboard</title>
    <link rel="stylesheet" href="/views/css/dashboard.css">
    <link rel="stylesheet" href="/views/css/flood-dashboard.css">
    <link rel="stylesheet" href="/views/css/fire-dashboard.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <!-- Leaflet JS - Load immediately, no defer -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <!-- Chart.js for data visualization - Load immediately -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel Standalone for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>ğŸŒ KDS</h1>
                <p>Afet YÃ¶netimi</p>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <span>ğŸ“Š</span> Dashboard
                </a>
                <a href="#" class="nav-item" data-section="provinces">
                    <span>ğŸ›ï¸</span> Ä°ller
                </a>
                <a href="#" class="nav-item" data-section="weather">
                    <span>ğŸŒ¤ï¸</span> Hava Durumu
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h2>Marmara BÃ¶lgesi Afet YÃ¶netimi Dashboard</h2>
                <div class="header-actions">
                    <select id="provinceSelect" class="province-select">
                        <option value="">Ä°l SeÃ§iniz...</option>
                    </select>
                </div>
            </header>

            <div class="content-body">
                <!-- Loading State -->
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p>YÃ¼kleniyor...</p>
                </div>

                <!-- Error State -->
                <div id="error" class="error-message" style="display: none;">
                    <p></p>
                </div>

                <!-- Dashboard Section -->
                <section id="dashboardSection" class="dashboard-section">
                    <!-- Disaster Type Tabs -->
                    <div class="disaster-tabs-container">
                        <div class="disaster-tabs">
                            <button class="disaster-tab active" data-disaster="earthquake" id="tabEarthquake">
                                <span class="tab-icon">ğŸŒ</span>
                                <span class="tab-label">Deprem</span>
                            </button>
                            <button class="disaster-tab" data-disaster="flood" id="tabFlood">
                                <span class="tab-icon">ğŸŒŠ</span>
                                <span class="tab-label">Sel</span>
                            </button>
                            <button class="disaster-tab" data-disaster="fire" id="tabFire">
                                <span class="tab-icon">ğŸ”¥</span>
                                <span class="tab-label">YangÄ±n</span>
                            </button>
                        </div>
                    </div>

                    <!-- Earthquake Tab Content -->
                    <div id="earthquakeContent" class="disaster-content active">
                        <!-- Marmara Region Map - En BaÅŸta -->
                        <div class="dashboard-map-container">
                            <div class="dashboard-map-header">
                                <h3>ğŸ—ºï¸ Marmara BÃ¶lgesi HaritasÄ±</h3>
                                <p>Ä°llere tÄ±klayarak risk skorlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz</p>
                            </div>
                            <div id="dashboardMarmaraMap" class="dashboard-marmara-map"></div>
                        </div>

                        <!-- En KÄ±sa UlaÅŸÄ±m RotasÄ± -->
                        <div id="transportRoutesContainer" class="transport-routes-container" style="display: none;">
                            <div class="transport-routes-header">
                                <h3>ğŸš— En KÄ±sa UlaÅŸÄ±m RotasÄ±</h3>
                                <p id="transportRoutesSubtitle" style="color: #aaa; font-size: 14px; margin-top: 5px;">
                                    Hedef ile diÄŸer illerden en kÄ±sa rotalar
                                </p>
                            </div>
                            <div class="transport-routes-content">
                                <div class="transport-routes-list" id="transportRoutesList">
                                    <!-- Rotalar buraya eklenecek -->
                                </div>
                                <div class="transport-routes-map-container">
                                    <div id="transportRoutesMap" class="transport-routes-map"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Kentsel DÃ¶nÃ¼ÅŸÃ¼m Ã–ncelik SÄ±rasÄ± GrafiÄŸi -->
                        <div class="chart-card">
                            <h3>ğŸ—ï¸ Kentsel DÃ¶nÃ¼ÅŸÃ¼m Ã–ncelik SÄ±rasÄ±</h3>
                            <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Deprem risk skorlarÄ±na gÃ¶re sÄ±ralanmÄ±ÅŸ iller</p>
                            <canvas id="urbanTransformationChart"></canvas>
                        </div>

                    <!-- Middle Row: Charts and Estimates -->
                    <div class="dashboard-middle-row">
                        <!-- Son 30 GÃ¼nlÃ¼k Deprem GrafiÄŸi -->
                        <div class="chart-card">
                            <h3>ğŸŒ Son 30 GÃ¼nlÃ¼k Deprem DaÄŸÄ±lÄ±mÄ±</h3>
                            <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Marmara BÃ¶lgesi - Ä°l bazÄ±nda deprem sayÄ±larÄ±</p>
                            <canvas id="earthquake30DaysChart"></canvas>
                        </div>

                        <!-- Ã–nemli Ã‡Ä±karÄ±mlar -->
                        <div class="analysis-card">
                            <h3>ğŸ¯ Son 30 GÃ¼nlÃ¼k Analiz</h3>
                            <div class="analysis-content">
                                <div class="analysis-grid">
                                    <div class="analysis-item">
                                        <div class="analysis-icon">âš ï¸</div>
                                        <div class="analysis-info">
                                            <div class="analysis-label">En Riskli BÃ¶lge</div>
                                            <div class="analysis-value" id="mostRiskyProvince">-</div>
                                        </div>
                                    </div>
                                    <div class="analysis-item">
                                        <div class="analysis-icon">ğŸ“Š</div>
                                        <div class="analysis-info">
                                            <div class="analysis-label">Toplam Deprem</div>
                                            <div class="analysis-value" id="totalEarthquakes">-</div>
                                        </div>
                                    </div>
                                    <div class="analysis-item">
                                        <div class="analysis-icon">ğŸ’¥</div>
                                        <div class="analysis-info">
                                            <div class="analysis-label">BÃ¼yÃ¼k Depremler (3.0+)</div>
                                            <div class="analysis-value" id="bigEarthquakes">-</div>
                                        </div>
                                    </div>
                                    <div class="analysis-item">
                                        <div class="analysis-icon">ğŸ“ˆ</div>
                                        <div class="analysis-info">
                                            <div class="analysis-label">GÃ¼nlÃ¼k Ortalama</div>
                                            <div class="analysis-value" id="dailyAverage">-</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="analysis-recommendation">
                                    <div class="recommendation-header">
                                        <span class="recommendation-icon">ğŸ’¡</span>
                                        <span class="recommendation-title">Ã–neri</span>
                                    </div>
                                    <div class="recommendation-text" id="analysisRecommendation">-</div>
                                </div>
                            </div>
                        </div>

                        <!-- Acil Ã–nlem KartÄ± -->
                        <div class="urgent-action-card">
                            <h3>ğŸš¨ Acil Ã–nlem</h3>
                            <div class="urgent-action-content">
                                <div class="urgent-action-list" id="urgentActionList">
                                    <!-- Acil Ã¶nlemler buraya dinamik olarak eklenecek -->
                                    <div class="urgent-action-item">
                                        <div class="urgent-action-icon">ğŸ“¢</div>
                                        <div class="urgent-action-text">
                                            <div class="urgent-action-title">Erken UyarÄ± Sistemi</div>
                                            <div class="urgent-action-desc">Aktif tutulmalÄ±</div>
                                        </div>
                                    </div>
                                    <div class="urgent-action-item">
                                        <div class="urgent-action-icon">ğŸ—ï¸</div>
                                        <div class="urgent-action-text">
                                            <div class="urgent-action-title">Bina GÃ¼venliÄŸi</div>
                                            <div class="urgent-action-desc">Denetim yapÄ±lmalÄ±</div>
                                        </div>
                                    </div>
                                    <div class="urgent-action-item">
                                        <div class="urgent-action-icon">ğŸ“‹</div>
                                        <div class="urgent-action-text">
                                            <div class="urgent-action-title">Acil Durum PlanÄ±</div>
                                            <div class="urgent-action-desc">GÃ¶zden geÃ§irilmeli</div>
                                        </div>
                                    </div>
                                    <div class="urgent-action-item">
                                        <div class="urgent-action-icon">ğŸ‘¥</div>
                                        <div class="urgent-action-text">
                                            <div class="urgent-action-title">Ekip HazÄ±rlÄ±ÄŸÄ±</div>
                                            <div class="urgent-action-desc">SÃ¼rekli izlenmeli</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="urgent-action-footer">
                                    <div class="urgent-action-status">
                                        <span class="status-indicator"></span>
                                        <span>Durum: Aktif Ä°zleme</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        </div>
                    </div>

                    <!-- Flood Tab Content -->
                    <div id="floodContent" class="disaster-content">
                        <!-- Weather-Based Flood Risk Alert -->
                        <div class="flood-weather-alert" id="floodWeatherAlert" style="display: none;">
                            <div class="weather-alert-content">
                                <span class="weather-alert-icon">ğŸŒ§ï¸</span>
                                <div class="weather-alert-text">
                                    <strong>Hava Durumu BazlÄ± Sel Riski</strong>
                                    <p id="weatherAlertMessage">Hava durumu verileri analiz ediliyor...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Choropleth Map -->
                        <div class="flood-map-container">
                            <div class="flood-map-header">
                                <h4>ğŸ—ºï¸ Sel Riski HaritasÄ± (Koroplet)</h4>
                                <p style="color: #aaa; font-size: 14px; margin-top: 5px;">Ä°llerin Ã¼zerine gelerek bilgileri gÃ¶rÃ¼ntÃ¼leyebilirsiniz</p>
                                <div class="map-legend" id="floodMapLegend">
                                    <!-- Legend will be populated by JavaScript -->
                                </div>
                            </div>
                            <div id="floodRiskMap" class="flood-risk-map"></div>
                        </div>

                        <!-- Flood Charts Section -->
                        <div class="flood-charts-section">
                            <!-- Chart 1: Ä°l BazÄ±nda Ortalama Sel SayÄ±larÄ± -->
                            <div class="chart-card">
                                <h3>ğŸ“Š Ä°l BazÄ±nda Ortalama Sel SayÄ±larÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">4 yÄ±llÄ±k ortalama sel sayÄ±larÄ±na gÃ¶re sÄ±ralanmÄ±ÅŸ iller</p>
                                <canvas id="floodCountsChart"></canvas>
                            </div>

                            <!-- Chart 2: Risk Seviyesi DaÄŸÄ±lÄ±mÄ± -->
                            <div class="chart-card">
                                <h3>ğŸ¯ Risk Seviyesi DaÄŸÄ±lÄ±mÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Ä°llerin risk seviyelerine gÃ¶re daÄŸÄ±lÄ±mÄ±</p>
                                <canvas id="floodRiskDistributionChart"></canvas>
                            </div>
                        </div>

                        <!-- YÃ¶netici Karar Grafikleri -->
                        <div class="flood-decision-charts-section">
                            <!-- Chart 3: BÃ¼tÃ§e DaÄŸÄ±lÄ±mÄ± -->
                            <div class="chart-card decision-chart">
                                <h3>ğŸ’° Ã–nerilen BÃ¼tÃ§e DaÄŸÄ±lÄ±mÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Risk seviyesine gÃ¶re ayrÄ±lmasÄ± gereken bÃ¼tÃ§e (Milyon TL)</p>
                                <canvas id="floodBudgetChart"></canvas>
                            </div>

                            <!-- Chart 4: AltyapÄ± Ä°yileÅŸtirme Ã–ncelikleri -->
                            <div class="chart-card decision-chart">
                                <h3>ğŸ—ï¸ AltyapÄ± Ä°yileÅŸtirme Ã–ncelikleri</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Ä°llere gÃ¶re yapÄ±lmasÄ± gereken altyapÄ± iyileÅŸtirmeleri</p>
                                <canvas id="floodInfrastructureChart"></canvas>
                            </div>
                        </div>


                        <!-- Data Table -->
                        <div class="flood-table-container">
                            <div class="flood-table-header">
                                <h4>ğŸ“Š Sel Riski Analiz Tablosu</h4>
                                <div class="table-controls">
                                    <input type="text" id="floodTableSearch" placeholder="Ä°l ara..." class="table-search">
                                    <select id="floodTableFilter" class="table-filter">
                                        <option value="all">TÃ¼m Risk Seviyeleri</option>
                                        <option value="priority">Sadece Ã–ncelikli BÃ¶lgeler</option>
                                        <option value="very_high">Ã‡ok YÃ¼ksek</option>
                                        <option value="high">YÃ¼ksek</option>
                                        <option value="medium">Orta</option>
                                        <option value="low">DÃ¼ÅŸÃ¼k</option>
                                        <option value="very_low">Ã‡ok DÃ¼ÅŸÃ¼k</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flood-table-wrapper">
                                <table class="flood-risk-table" id="floodRiskTable">
                                    <thead>
                                        <tr>
                                            <th>Ä°l</th>
                                            <th>Ort. Sel SayÄ±sÄ±<br><span class="table-subtitle">(4 yÄ±l)</span></th>
                                            <th>Normalize Skor<br><span class="table-subtitle">(0-1)</span></th>
                                            <th>Risk Seviyesi</th>
                                            <th>Durum</th>
                                        </tr>
                                    </thead>
                                    <tbody id="floodRiskTableBody">
                                        <!-- Table rows will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                    <!-- Fire Tab Content -->
                    <div id="fireContent" class="disaster-content">
                        <!-- Fire Map -->
                        <div class="flood-map-container">
                            <div class="flood-map-header">
                                <h4>ğŸ—ºï¸ YangÄ±n Riski HaritasÄ±</h4>
                                <p style="color: #aaa; font-size: 14px; margin-top: 5px;">Ä°llerin Ã¼zerine gelerek bilgileri gÃ¶rÃ¼ntÃ¼leyebilirsiniz</p>
                                <div class="map-legend" id="fireMapLegend">
                                    <!-- Legend will be populated by JavaScript -->
                                </div>
                            </div>
                            <div id="fireRiskMap" class="flood-risk-map"></div>
                        </div>

                        <!-- Fire Charts Section -->
                        <div class="flood-charts-section">
                            <!-- Chart 1: Ä°l BazÄ±nda Toplam YangÄ±n SayÄ±larÄ± -->
                            <div class="chart-card">
                                <h3>ğŸ”¥ Ä°l BazÄ±nda Toplam YangÄ±n SayÄ±larÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Toplam yangÄ±n sayÄ±larÄ±na gÃ¶re sÄ±ralanmÄ±ÅŸ iller</p>
                                <canvas id="fireCountsChart"></canvas>
                            </div>

                            <!-- Chart 2: Risk Seviyesi DaÄŸÄ±lÄ±mÄ± -->
                            <div class="chart-card">
                                <h3>ğŸ¯ Risk Seviyesi DaÄŸÄ±lÄ±mÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Ä°llerin risk seviyelerine gÃ¶re daÄŸÄ±lÄ±mÄ±</p>
                                <canvas id="fireRiskDistributionChart"></canvas>
                            </div>
                        </div>

                        <!-- YangÄ±n Nedenleri ve Ã–nlemler Grafikleri -->
                        <div class="flood-charts-section">
                            <div class="chart-card">
                                <h3>ğŸ” YangÄ±n Nedenleri DaÄŸÄ±lÄ±mÄ±</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Marmara bÃ¶lgesinde yangÄ±nlarÄ±n nedenlerine gÃ¶re daÄŸÄ±lÄ±mÄ±</p>
                                <canvas id="fireCauseChart"></canvas>
                            </div>

                            <div class="chart-card decision-chart">
                                <h3>ğŸ›¡ï¸ AlÄ±nmasÄ± Gereken Ã–nlemler</h3>
                                <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;">Ä°llere gÃ¶re yangÄ±n Ã¶nleme Ã¶ncelikleri</p>
                                <canvas id="firePreventionChart"></canvas>
                            </div>
                        </div>

                        <!-- Data Table -->
                        <div class="flood-table-container">
                            <div class="flood-table-header">
                                <h4>ğŸ“Š YangÄ±n Riski Analiz Tablosu</h4>
                                <div class="table-controls">
                                    <input type="text" id="fireTableSearch" placeholder="Ä°l ara..." class="table-search">
                                    <select id="fireTableFilter" class="table-filter">
                                        <option value="all">TÃ¼m Risk Seviyeleri</option>
                                        <option value="priority">Sadece Ã–ncelikli BÃ¶lgeler</option>
                                        <option value="Ã§ok_yÃ¼ksek">Ã‡ok YÃ¼ksek</option>
                                        <option value="yÃ¼ksek">YÃ¼ksek</option>
                                        <option value="orta">Orta</option>
                                        <option value="dÃ¼ÅŸÃ¼k">DÃ¼ÅŸÃ¼k</option>
                                        <option value="Ã§ok_dÃ¼ÅŸÃ¼k">Ã‡ok DÃ¼ÅŸÃ¼k</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flood-table-wrapper">
                                <table class="flood-risk-table" id="fireRiskTable">
                                    <thead>
                                        <tr>
                                            <th>Ä°l</th>
                                            <th>Toplam YangÄ±n<br><span class="table-subtitle">(Adet)</span></th>
                                            <th>Etkilenen Alan<br><span class="table-subtitle">(Hektar)</span></th>
                                            <th>Normalize Skor<br><span class="table-subtitle">(0-1)</span></th>
                                            <th>Risk Seviyesi</th>
                                            <th>Durum</th>
                                        </tr>
                                    </thead>
                                    <tbody id="fireRiskTableBody">
                                        <!-- Table rows will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Provinces Section -->
                <section id="provincesSection" class="provinces-section" style="display: none;">
                    <h3>Ä°ller Listesi</h3>
                    <div id="provincesList" class="provinces-list"></div>
                </section>

                <!-- Risks Section -->
                <section id="risksSection" class="risks-section" style="display: none;">
                    <h3>Risk SkorlarÄ±</h3>
                    <div id="risksList" class="risks-list"></div>
                </section>

                <!-- Earthquakes Section -->
                <section id="earthquakesSection" class="earthquakes-section" style="display: none;">
                    <h3>Deprem GeÃ§miÅŸi</h3>
                    
                    <!-- Statistics Cards -->
                    <div class="earthquake-stats" id="earthquakeStats" style="display: none;">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“Š</div>
                            <div class="stat-info">
                                <h3 id="totalEarthquakes">-</h3>
                                <p>Toplam Deprem</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“ˆ</div>
                            <div class="stat-info">
                                <h3 id="avgMagnitude">-</h3>
                                <p>Ortalama BÃ¼yÃ¼klÃ¼k</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ”¥</div>
                            <div class="stat-info">
                                <h3 id="maxMagnitude">-</h3>
                                <p>En BÃ¼yÃ¼k Deprem</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“…</div>
                            <div class="stat-info">
                                <h3 id="lastEarthquake">-</h3>
                                <p>Son Deprem</p>
                            </div>
                        </div>
                    </div>

                    <!-- Earthquakes List -->
                    <div id="earthquakesList" class="earthquakes-list"></div>
                </section>

                <!-- Live Earthquakes Section -->
                <section id="liveEarthquakesSection" class="live-earthquakes-section" style="display: none;">
                    <div class="live-header">
                        <h3>ğŸ”´ CanlÄ± Depremler</h3>
                        <div class="live-controls">
                            <span class="live-indicator">
                                <span class="live-dot"></span>
                                <span id="liveStatus">CanlÄ±</span>
                            </span>
                            <button id="fetchAFADBtn" class="refresh-btn" title="AFAD Verilerini Ã‡ek" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; border: none;">
                                ğŸ“¡ AFAD Ã‡ek
                            </button>
                            <button id="refreshLiveBtn" class="refresh-btn" title="Yenile">
                                ğŸ”„
                            </button>
                            <label class="auto-refresh-toggle">
                                <input type="checkbox" id="autoRefreshToggle" checked>
                                <span>Otomatik Yenile</span>
                            </label>
                        </div>
                    </div>

                    <!-- Live Statistics -->
                    <div class="live-stats" id="liveStats" style="display: none;">
                        <div class="stat-card live-stat-card">
                            <div class="stat-icon">ğŸ“Š</div>
                            <div class="stat-info">
                                <h3 id="liveTotalEarthquakes">-</h3>
                                <p>Son 24 Saat</p>
                            </div>
                        </div>
                        <div class="stat-card live-stat-card">
                            <div class="stat-icon">ğŸ“ˆ</div>
                            <div class="stat-info">
                                <h3 id="liveAvgMagnitude">-</h3>
                                <p>Ortalama BÃ¼yÃ¼klÃ¼k</p>
                            </div>
                        </div>
                        <div class="stat-card live-stat-card">
                            <div class="stat-icon">ğŸ”¥</div>
                            <div class="stat-info">
                                <h3 id="liveMaxMagnitude">-</h3>
                                <p>En BÃ¼yÃ¼k Deprem</p>
                            </div>
                        </div>
                        <div class="stat-card live-stat-card">
                            <div class="stat-icon">â°</div>
                            <div class="stat-info">
                                <h3 id="liveLastUpdate">-</h3>
                                <p>Son GÃ¼ncelleme</p>
                            </div>
                        </div>
                    </div>

                    <!-- Live Earthquakes List -->
                    <div id="liveEarthquakesList" class="live-earthquakes-list"></div>
                </section>

                <!-- Weather Section -->
                <section id="weatherSection" class="weather-section" style="display: none;">
                    <div class="weather-header">
                        <h3>ğŸŒ¤ï¸ Hava Durumu</h3>
                        <div class="weather-controls">
                            <button id="refreshWeatherBtn" class="refresh-btn" title="Yenile">
                                ğŸ”„
                            </button>
                        </div>
                    </div>

                    <!-- All Provinces Weather Forecast Table -->
                    <div id="allProvincesWeather" class="all-provinces-weather">
                        <div id="allProvincesWeatherList" class="all-provinces-weather-list"></div>
                    </div>
                </section>

                <!-- Map Section -->
                <section id="mapSection" class="map-section" style="display: none;">
                    <div class="map-header">
                        <h3>ğŸ—ºï¸ Marmara BÃ¶lgesi - Ä°nteraktif Harita</h3>
                        <p class="map-description">Ä°llere tÄ±klayarak risk bilgilerini gÃ¶rÃ¼ntÃ¼leyebilirsiniz</p>
                    </div>
                    <div class="map-container">
                        <div id="marmaraMap" class="marmara-map"></div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Dashboard JS - Load immediately after DOM is ready -->
    <!-- Ä°l DetaylarÄ± Modal -->
    <div id="provinceDetailModal" class="province-modal">
        <div class="province-modal-backdrop"></div>
        <div class="province-modal-content">
            <div class="province-modal-header">
                <h2>Ä°l DetaylarÄ±</h2>
                <button class="province-modal-close" id="provinceModalCloseBtn">Ã—</button>
            </div>
            <div class="province-modal-body" id="provinceModalBody">
                <!-- Ä°Ã§erik buraya dinamik olarak eklenecek -->
            </div>
            <div class="province-modal-footer">
                <button class="province-modal-close-btn" id="provinceModalCloseBtnBottom">Kapat</button>
            </div>
        </div>
    </div>

    <!-- AfetIhtiyacGrafik React Component -->
    <script type="text/babel" src="/views/js/components/AfetIhtiyacGrafik.jsx"></script>
    <script src="/views/js/dashboard.js"></script>
</body>
</html>

